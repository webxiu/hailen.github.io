import{e as R,r as g,S as v,q as p,o as s,j as f,C as a,m as c,c as I,i as w,F as b}from"./index-9e436c07.js";const C=R({__name:"addModel",props:{formInline:{default:()=>({})},userRows:{default:()=>[]},tableRef:{default:()=>null},orgOptions:{default:()=>[]}},setup(h,{expose:O}){const u=h,_=g(),t=v(u.formInline),r=g(u.userRows),x=v({userIds:[{required:!0,message:"请选择员工",trigger:"blur"}],newOrgId:[{required:!0,message:"请选择组织",trigger:"blur"}]});function V(n){t.userIds=n;const e=u.tableRef;if(n.length>0){const d=r.value.filter(o=>n.includes(o.id)),i=r.value.filter(o=>!n.includes(o.id));r.value.forEach(o=>{i.forEach(m=>{m.id===o.id&&(e==null||e.toggleRowSelection(m,void 0))})}),r.value=d}else e==null||e.clearSelection(),r.value=[]}function k(){return _.value}return O({getRef:k}),(n,e)=>{const d=p("el-option"),i=p("el-select"),o=p("el-form-item"),m=p("el-form");return s(),f(m,{ref_key:"ruleFormRef",ref:_,model:t,rules:x,"label-position":"top"},{default:a(()=>[c(o,{label:"已选择员工",prop:"userIds"},{default:a(()=>[c(i,{placeholder:"请选择",modelValue:t.userIds,"onUpdate:modelValue":e[0]||(e[0]=l=>t.userIds=l),multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":10,onChange:V,style:{width:"100%",minWidth:"100px"}},{default:a(()=>[(s(!0),I(b,null,w(r.value,l=>(s(),f(d,{key:l.id,label:l.userName,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),c(o,{label:"选择组织迁移",prop:"newOrgId"},{default:a(()=>[c(i,{modelValue:t.newOrgId,"onUpdate:modelValue":e[1]||(e[1]=l=>t.newOrgId=l),placeholder:"请选择",style:{width:"100%",minWidth:"100px"}},{default:a(()=>[(s(!0),I(b,null,w(u.orgOptions,l=>(s(),f(d,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}});export{C as _};
