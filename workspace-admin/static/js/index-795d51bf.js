import{useConfig as z}from"./hook-3e2ba66b.js";import{P as D}from"./index-5b96dd28.js";import{a as l}from"./hooks-e8a21eb1.js";import{u as E}from"./common-d9802306.js";import{B as H,d as I,a as O,b as j}from"./index-953fb6cc.js";import{e as q,r as h,q as s,c as F,l as e,j as g,C as a,w as _,o as c,m as n,v as m,_ as L}from"./index-f181d78b.js";import"./index-e044060a.js";import"./config-7d7e445a.js";import"./TitleCate-f2abf3ba.js";import"./orgList-5d4c0d74.js";import"./common-f315d5e3.js";import"./sortable.esm-9c3c89c5.js";import"./search-cc37b371.js";const A=q({__name:"index",setup(G){const{tableRef:C,formData:J,loading:b,columns:p,dataList:x,pagination:k,searchOptions:y,onSearch:d,openDialog:f,handleDelete:S,handleSizeChange:v,onRowClick:K,handleCurrentChange:R,handleSelectionChange:B}=z(),P=h({}),$=h(),t=E(".app-main .el-scrollbar",60+64+48);return(M,u)=>{const i=s("el-button"),w=s("el-popconfirm"),N=s("pure-table");return c(),F("div",{class:"main ui-h-100",ref_key:"boxRef",ref:$},[e(p).length?(c(),g(e(D),{key:0,title:"列表",columns:e(p),onRefresh:e(d)},{title:a(()=>[n(H,{class:"action-search",onTagSearch:e(d),options:e(y),placeholder:"请输入数据库简称",searchField:"accountName",default:P.value},null,8,["onTagSearch","options","default"])]),buttons:a(()=>[n(i,{type:"primary",icon:e(l)(e(I)),onClick:u[0]||(u[0]=o=>e(f)("add"))},{default:a(()=>[m("添加组织")]),_:1},8,["icon"])]),default:a(({size:o,dynamicColumns:T})=>[e(t)?(c(),g(N,{key:0,border:"",ref_key:"tableRef",ref:C,height:e(t),"max-height":e(t),"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(b),size:o,data:e(x),columns:T,pagination:e(k),paginationSmall:o==="small",onSelectionChange:e(B),onPageSizeChange:e(v),onPageCurrentChange:e(R)},{operation:a(({row:r})=>[n(i,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(l)(e(O)),onClick:V=>e(f)("edit",r)},{default:a(()=>[m(" 修改 ")]),_:2},1032,["size","icon","onClick"]),n(w,{width:180,title:`确认删除组织名称
【${r.orgName}】?`,onConfirm:V=>e(S)(r)},{reference:a(()=>[n(i,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(l)(e(j))},{default:a(()=>[m(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["height","max-height","loading","size","data","columns","pagination","paginationSmall","onSelectionChange","onPageSizeChange","onPageCurrentChange"])):_("",!0)]),_:1},8,["columns","onRefresh"])):_("",!0)],512)}}});const le=L(A,[["__scopeId","data-v-fca47f82"]]);export{le as default};
