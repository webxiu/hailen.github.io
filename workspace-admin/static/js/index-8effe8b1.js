import{e as $,r as j,q as t,c as y,l as e,j as c,C as l,w as C,o as s,m as a,F as q,i as D,ay as b,v as p,_ as E}from"./index-a2f56237.js";import{useRole as O}from"./hook-d9f83fe6.js";import{P as A}from"./index-dfe85821.js";import{a as _}from"./hooks-331b4af5.js";import{d as v}from"./promotion-459adb17.js";import{d as G}from"./search-cc37b371.js";import"./form.vue_vue_type_script_setup_true_lang-eb150670.js";import"./config-85d9cddc.js";import"./common-0183c217.js";import"./sortable.esm-9c3c89c5.js";import"./orgList-fd4b699b.js";const J=$({__name:"index",setup(Q){const{moveTableRef:x,formData:n,orgOptions:k,loading:V,columns:f,dataList:S,pagination:w,maxHeight:u,onSearch:i,onMoveHandle:R,onBatchMoveHandle:P,handleSizeChange:B,handleCurrentChange:I,handleSelectionChange:K}=O(),N=j(),T=g=>{n.orgId=g,i()};return(g,r)=>{const z=t("el-option"),H=t("el-select"),d=t("el-form-item"),h=t("el-input"),m=t("el-button"),U=t("el-form"),F=t("pure-table");return s(),y("div",{class:"main ui-h-100",ref_key:"boxRef",ref:N},[e(f).length?(s(),c(e(A),{key:0,title:"列表",columns:e(f),onRefresh:e(i)},{title:l(()=>[a(U,{model:e(n),inline:!0},{default:l(()=>[a(d,{label:"组织名称"},{default:l(()=>[a(H,{modelValue:e(n).orgId,"onUpdate:modelValue":r[0]||(r[0]=o=>e(n).orgId=o),placeholder:"请选择",onChange:T,style:{width:"160px"}},{default:l(()=>[(s(!0),y(q,null,D(e(k),o=>(s(),c(z,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"工号"},{default:l(()=>[a(h,{modelValue:e(n).userCode,"onUpdate:modelValue":r[1]||(r[1]=o=>e(n).userCode=o),placeholder:"请输入工号",style:{width:"140px"},onKeyup:b(e(i),["enter"]),clearable:""},null,8,["modelValue","onKeyup"])]),_:1}),a(d,{label:"员工姓名"},{default:l(()=>[a(h,{modelValue:e(n).userName,"onUpdate:modelValue":r[2]||(r[2]=o=>e(n).userName=o),placeholder:"请输入员工姓名",style:{width:"140px"},onKeyup:b(e(i),["enter"]),clearable:""},null,8,["modelValue","onKeyup"])]),_:1}),a(d,null,{default:l(()=>[a(m,{type:"primary",icon:e(_)(e(G)),onClick:e(i)},{default:l(()=>[p("查询")]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["model"])]),buttons:l(()=>[a(m,{type:"primary",icon:e(_)(e(v)),onClick:e(P)},{default:l(()=>[p("批量迁移")]),_:1},8,["icon","onClick"])]),default:l(({size:o,dynamicColumns:L})=>[e(u)?(s(),c(F,{key:0,ref_key:"moveTableRef",ref:x,class:"user-move",border:"","row-key":"id",height:e(u),"max-height":e(u),"align-whole":"center","table-layout":"auto",loading:e(V),size:o,data:e(S),columns:L,pagination:e(w),"header-cell-style":{background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},paginationSmall:o==="small",onSelectionChange:e(K),onPageSizeChange:e(B),onPageCurrentChange:e(I)},{operation:l(({row:M})=>[a(m,{link:"",type:"primary",size:o,onClick:W=>e(R)(M),icon:e(_)(e(v))},{default:l(()=>[p("迁移")]),_:2},1032,["size","onClick","icon"])]),_:2},1032,["height","max-height","loading","size","data","columns","pagination","header-cell-style","paginationSmall","onSelectionChange","onPageSizeChange","onPageCurrentChange"])):C("",!0)]),_:1},8,["columns","onRefresh"])):C("",!0)],512)}}});const se=E(J,[["__scopeId","data-v-d6b5fc1c"]]);export{se as default};
