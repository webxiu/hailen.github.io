import{formRules as V}from"./config-85d9cddc.js";import{e as k,r as g,S as R,q as p,o as a,j as c,C as s,m as f,c as v,i as I,F as w,l as y}from"./index-a2f56237.js";const B=k({__name:"form",props:{formInline:{default:()=>({})},userRows:{default:()=>[]},tableRef:{default:()=>null},orgOptions:{default:()=>[]}},setup(h,{expose:b}){const u=h,_=g(),t=R(u.formInline),n=g(u.userRows);function x(r){t.userIds=r;const e=u.tableRef;if(r.length>0){const i=n.value.filter(o=>r.includes(o.id)),d=n.value.filter(o=>!r.includes(o.id));n.value.forEach(o=>{d.forEach(m=>{m.id===o.id&&(e==null||e.toggleRowSelection(m,void 0))})}),n.value=i}else e==null||e.clearSelection(),n.value=[]}function O(){return _.value}return b({getRef:O}),(r,e)=>{const i=p("el-option"),d=p("el-select"),o=p("el-form-item"),m=p("el-form");return a(),c(m,{ref_key:"ruleFormRef",ref:_,model:t,rules:y(V),"label-position":"top"},{default:s(()=>[f(o,{label:"已选择员工",prop:"userIds"},{default:s(()=>[f(d,{placeholder:"请选择",modelValue:t.userIds,"onUpdate:modelValue":e[0]||(e[0]=l=>t.userIds=l),multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":10,onChange:x,style:{width:"100%",minWidth:"100px"}},{default:s(()=>[(a(!0),v(w,null,I(n.value,l=>(a(),c(i,{key:l.id,label:l.userName,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),f(o,{label:"选择组织迁移",prop:"newOrgId"},{default:s(()=>[f(d,{modelValue:t.newOrgId,"onUpdate:modelValue":e[1]||(e[1]=l=>t.newOrgId=l),placeholder:"请选择",style:{width:"100%",minWidth:"100px"}},{default:s(()=>[(a(!0),v(w,null,I(u.orgOptions,l=>(a(),c(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}});export{B as _};
